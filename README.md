# CPK-Bot

## Описание проекта

CPK-Bot — это Telegram бот, предназначенный для помощи программистам и администраторам в сообществе. Бот поддерживает различные команды, такие как добавление вопросов, получение профилей пользователей, управление ролями, а также интеграцию с внешними сервисами, например, для получения погоды.

## Функциональные возможности

- **Регистрация пользователей:** Автоматическая регистрация новых пользователей при отправке сообщений боту.
- **Добавление и получение вопросов:** Поддержка добавления и получения вопросов по фронтенду и бэкенду.
- **Управление ролями:** Назначение ролей пользователям и поиск пользователей по ролям.
- **Интеграция с погодным сервисом:** Получение актуальной информации о погоде по заданному месту.
- **Команды администратора:** Включает в себя команды для бана/разбана пользователей и выполнения других административных задач.
- **Приветствие новых участников:** Автоматическое приветствие новых участников в групповых чатах.

### 1. Клонируйте репозиторий:

git clone https://github.com/mistelltein/cpk-bot.git
cd cpk-bot

### 2. Установите необходимые зависимости:

dotnet restore

### 3. Соберите проект:

dotnet build

## Настройка
### Создайте файл appsettings.json в корне проекта с следующим содержимым:

```json
{
  "TelegramBotApiKey": "ВАШ_API_KEY",
  "WeatherApiKey": "ВАШ_API_KEY",
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=cpk_bot_db;Username=ваше_имя_пользователя;Password=ваш_пароль"
  }
}
```
### Убедитесь, что у вас настроена база данных PostgreSQL, и примените миграции:

dotnet ef database update

# Использование
## Запустите бота:

dotnet run

Бот начнет работу и будет доступен в Telegram. Вы можете начать взаимодействовать с ботом, отправляя команды в личные сообщения или в групповые чаты.
Основные команды

    /start — Начать взаимодействие с ботом и получить список команд.
    /profile — Получить информацию о своем профиле.
    /finduser @username — Найти пользователя по имени.
    /weather [место] — Получить информацию о погоде для указанного места.
    /setrole @username [роль] — Назначить роль пользователю.
    /ban @username — Забанить пользователя.
    /unban @username — Разбанить пользователя.

Требования

    .NET 8.0 или выше
    PostgreSQL 12 или выше
    Telegram API Token